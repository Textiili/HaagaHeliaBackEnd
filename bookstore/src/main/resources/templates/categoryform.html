<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Bookstore</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--Linkki Bootstrap-min tyyliin-->
    <link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" />
</head>
<body style="background-color:rgb(208, 196, 88)">
	<h1 style="margin-left:10%; ">Categoryüé≠</h1>
	<form action="#" th:action="@{/savecategory}"  th:object= ${category} method="post" onsubmit="return validateForm()">
    <input type="hidden" th:field="*{categoryid}" class="form-control"/>
    <div class="col-md-4">
    <input type="text" th:field="*{name}" placeholder="Category type" class="form-control"/>
    </div>
    <input type="submit" value="Submit" class="btn btn-success" style="margin-top: 1%; margin-left: 1%;"/> <input type="reset" value="Reset" class="btn btn-danger" style="margin-top: 1%; margin-left: 0.1%;"/>
    <a href="/categorylist" class="btn btn-success" style="margin-top: 1%; margin-left: 0.1%;">Back</a>
	</form>

    <script>
        function validateForm() {
            var categoryInput = document.getElementById('name');;
            
            // Onko kysely tyhj√§?
            if (categoryInput.value === '') {
                alert('Please fill the form before submitting!');
                return false;
            }
    
            // Onko kategoria pelk√§st√§√§n kirjaimia?
            var lettersAndAdditionalWordsRegex = /^([a-zA-Z√§√∂√•√Ñ√ñ√Ö]+|[a-zA-Z√§√∂√•√Ñ√ñ√Ö]+ & [a-zA-Z√§√∂√•√Ñ√ñ√Ö]+)$/;
            if (!lettersAndAdditionalWordsRegex.test(categoryInput.value)) {
                alert('- Category should consist of letters \n- Two words should be separated with " & "');
                return false;
            }
    
            // Onnistunut kysely.
            return true;
        }
    </script>
</body>
</html>

